#!/usr/bin/env python3
"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ —Ä–æ–±–æ—Ç–∞
"""

import time
from command_history import CommandHistory

def simulate_robot_session():
    """–ò–º–∏—Ç–∞—Ü–∏—è —Å–µ–∞–Ω—Å–∞ —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏"""
    
    print("=" * 60)
    print("ü§ñ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ò–°–¢–û–†–ò–ò –ö–û–ú–ê–ù–î –†–û–ë–û–¢–ê")
    print("=" * 60)
    
    # –°–æ–∑–¥–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏
    history = CommandHistory('robot_command_history.json', max_entries=100)
    
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –∏—Å—Ç–æ—Ä–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
    print("\nüìÇ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Å—Ç–æ—Ä–∏–∏...")
    history.load_history()
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    if history.get_all_commands():
        history.print_history(10)
    
    # –°–∏–º—É–ª–∏—Ä—É–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –∫–æ–º–∞–Ω–¥
    print("\nüéÆ –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º...")
    print("-" * 60)
    
    commands = [
        ("forward", "üîº –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥"),
        ("left", "‚Ü©Ô∏è  –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ"),
        ("forward", "üîº –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥"),
        ("right", "‚Ü™Ô∏è  –ü–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ"),
        ("stop", "‚èπÔ∏è  –û—Å—Ç–∞–Ω–æ–≤–∫–∞")
    ]
    
    for command, description in commands:
        print(f"\n{description}")
        history.add_command(command, "success", {"speed": 0.7})
        time.sleep(0.5)
    
    print("\n" + "-" * 60)
    print("‚úÖ –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞\n")
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é
    print("üìö –¢–µ–∫—É—â–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥:")
    history.print_history(15)
    
    print("\n" + "=" * 60)
    print("üíæ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤: robot_command_history.json")
    print("üìä –í—Å–µ–≥–æ –∫–æ–º–∞–Ω–¥ –≤ –∏—Å—Ç–æ—Ä–∏–∏:", len(history.get_all_commands()))
    print("=" * 60)

if __name__ == "__main__":
    simulate_robot_session()
