#!/usr/bin/env python3
# test_gpio_detect.py
import os
import sys

print("üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ GPIO —Å–∏—Å—Ç–µ–º—ã")
print("=" * 50)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ gpiochip0
print("1. –ü—Ä–æ–≤–µ—Ä–∫–∞ /dev/gpiochip0...")
if os.path.exists('/dev/gpiochip0'):
    print("   ‚úÖ /dev/gpiochip0 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
else:
    print("   ‚ùå /dev/gpiochip0 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ sysfs
print("\n2. –ü—Ä–æ–≤–µ—Ä–∫–∞ sysfs GPIO...")
if os.path.exists('/sys/class/gpio'):
    print("   ‚úÖ /sys/class/gpio —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
    # –ü–æ–ø—Ä–æ–±—É–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∏–Ω
    try:
        with open('/sys/class/gpio/export', 'w') as f:
            f.write('17')
        print("   ‚úÖ –ú–æ–∂–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∏–Ω—ã")
        # –ù–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã
    except:
        print("   ‚ùå –ù–µ –º–æ–∂–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∏–Ω—ã")
else:
    print("   ‚ùå /sys/class/gpio –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
print("\n3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫...")
try:
    import RPi.GPIO
    print("   ‚úÖ RPi.GPIO —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
except ImportError:
    print("   ‚ùå RPi.GPIO –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")

try:
    import gpiod
    print("   ‚úÖ gpiod —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
except ImportError:
    print("   ‚ùå gpiod –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")

try:
    import gpiozero
    print("   ‚úÖ gpiozero —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
except ImportError:
    print("   ‚ùå gpiozero –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")

print("\n" + "=" * 50)
print("üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
print("1. –ï—Å–ª–∏ /dev/gpiochip0 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ gpiod")
print("2. –ï—Å–ª–∏ /sys/class/gpio —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ sysfs –º–µ—Ç–æ–¥")
print("3. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ")